(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,a,t){e.exports=t(139)},133:function(e,a,t){},139:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(97),c=t.n(r),o=(t(133),t(98)),i=t.n(o),m=t(100),u=t(204),s=t(198),g=t(228),E=t(219),d=t(197),v=t(220),h=t(149),b=t(32),p=t(212),w=t(213),C=t(207),f=t(208),x=t(209),O=t(199),P=t(205),S=t(210),j=t(203),k=t(211),y=t(221);var L=function(e){let{wines:a,setFilteredWines:t,setPage:r}=e;const[c,o]=Object(n.useState)(""),[i,m]=Object(n.useState)(!1),[u,s]=Object(n.useState)("all"),[g,h]=Object(n.useState)(""),[L,W]=Object(n.useState)(!1),[F,N]=Object(n.useState)({name:"",producer:"",country:"",vegan:!1}),z=[...new Set(a.map(e=>e.origin))].sort(),R=e=>{const a=e.toLowerCase();return!a.includes("not vegan")&&a.includes("vegan friendly")},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g,m=a;if(e)switch(l){case"name":m=m.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()));break;case"producer":m=m.filter(a=>a.producer.toLowerCase().includes(e.toLowerCase()));break;case"all":m=m.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.producer.toLowerCase().includes(e.toLowerCase()));break;default:m=a}o&&(m=m.filter(e=>e.origin===o)),n&&(m=m.filter(e=>R(e.label))),t(m),r(0)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{sx:{p:2,mb:2}},l.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(C.a,{fullWidth:!0,label:"Cerca",value:c,onChange:e=>{o(e.target.value),T(e.target.value)}})),l.a.createElement(w.a,{item:!0,xs:12,md:2},l.a.createElement(f.a,{fullWidth:!0},l.a.createElement(x.a,null,"Cerca per"),l.a.createElement(O.a,{value:u,label:"Cerca per",onChange:e=>{s(e.target.value),T(c,i,e.target.value)}},l.a.createElement(P.a,{value:"all"},"Tutti i campi"),l.a.createElement(P.a,{value:"name"},"Nome"),l.a.createElement(P.a,{value:"producer"},"Produttore")))),l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(f.a,{fullWidth:!0},l.a.createElement(x.a,null,"Nazione"),l.a.createElement(O.a,{value:g,label:"Nazione",onChange:e=>{h(e.target.value),T(c,i,u,e.target.value)}},l.a.createElement(P.a,{value:""},"Tutte"),z.map(e=>l.a.createElement(P.a,{key:e,value:e},e))))),l.a.createElement(w.a,{item:!0,xs:12,md:2},l.a.createElement(S.a,{control:l.a.createElement(j.a,{checked:i,onChange:e=>{m(e.target.checked),T(c,e.target.checked)}}),label:"Solo vegani"})),l.a.createElement(w.a,{item:!0,xs:12,md:2},l.a.createElement(k.a,{variant:"contained",fullWidth:!0,onClick:()=>W(!0)},"Ricerca avanzata")))),l.a.createElement(E.a,{open:L,onClose:()=>W(!1)},l.a.createElement(d.a,null,"Ricerca avanzata"),l.a.createElement(v.a,null,l.a.createElement(w.a,{container:!0,spacing:2,sx:{pt:1}},l.a.createElement(w.a,{item:!0,xs:12},l.a.createElement(C.a,{fullWidth:!0,label:"Nome vino",value:F.name,onChange:e=>N(Object(b.a)(Object(b.a)({},F),{},{name:e.target.value}))})),l.a.createElement(w.a,{item:!0,xs:12},l.a.createElement(C.a,{fullWidth:!0,label:"Produttore",value:F.producer,onChange:e=>N(Object(b.a)(Object(b.a)({},F),{},{producer:e.target.value}))})),l.a.createElement(w.a,{item:!0,xs:12},l.a.createElement(f.a,{fullWidth:!0},l.a.createElement(x.a,null,"Nazione"),l.a.createElement(O.a,{value:F.country,label:"Nazione",onChange:e=>N(Object(b.a)(Object(b.a)({},F),{},{country:e.target.value}))},l.a.createElement(P.a,{value:""},"Tutte"),z.map(e=>l.a.createElement(P.a,{key:e,value:e},e))))),l.a.createElement(w.a,{item:!0,xs:12},l.a.createElement(S.a,{control:l.a.createElement(j.a,{checked:F.vegan,onChange:e=>N(Object(b.a)(Object(b.a)({},F),{},{vegan:e.target.checked}))}),label:"Solo vegani"})))),l.a.createElement(y.a,null,l.a.createElement(k.a,{onClick:()=>W(!1)},"Annulla"),l.a.createElement(k.a,{onClick:()=>{let e=a;F.name&&(e=e.filter(e=>e.name.toLowerCase().includes(F.name.toLowerCase()))),F.producer&&(e=e.filter(e=>e.producer.toLowerCase().includes(F.producer.toLowerCase()))),F.country&&(e=e.filter(e=>e.origin===F.country)),F.vegan&&(e=e.filter(e=>R(e.label))),t(e),r(0),W(!1)},variant:"contained"},"Cerca"))))},W=t(222),F=t(223),N=t(224),z=t(225),R=t(226),T=t(227),I=t(201);var B=function(e){let{wines:a,page:t,setPage:n,rowsPerPage:r,setRowsPerPage:c}=e;return l.a.createElement(p.a,{sx:{mt:2}},l.a.createElement(W.a,null,l.a.createElement(F.a,null,l.a.createElement(N.a,null,l.a.createElement(z.a,null,l.a.createElement(R.a,null,"Nome"),l.a.createElement(R.a,null,"Produttore"),l.a.createElement(R.a,null,"Origine"),l.a.createElement(R.a,null,"Etichetta"))),l.a.createElement(T.a,null,a.slice(t*r,t*r+r).map((e,a)=>l.a.createElement(z.a,{key:a,hover:!0},l.a.createElement(R.a,null,e.name),l.a.createElement(R.a,null,e.producer),l.a.createElement(R.a,null,e.origin),l.a.createElement(R.a,null,e.label)))))),l.a.createElement(I.a,{rowsPerPageOptions:[10,25,50],component:"div",count:a.length,rowsPerPage:r,page:t,onPageChange:(e,a)=>{n(a)},onRowsPerPageChange:e=>{c(parseInt(e.target.value,10)),n(0)}}))},G=t(215);var J=function(e){let{wines:a,onShowGlobalStats:t}=e;const n=a.length,r=a.filter(e=>{const a=e.label.toLowerCase();return!a.includes("not vegan")&&a.includes("vegan friendly")}).length,c=[...new Set(a.map(e=>e.origin))],o=1===c.length?c[0]:"";return l.a.createElement(p.a,{sx:{p:2}},l.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(G.a,null,l.a.createElement(h.a,{variant:"h6"},"Totale vini"),l.a.createElement(h.a,{variant:"h4"},n))),l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(G.a,null,l.a.createElement(h.a,{variant:"h6"},"Vini vegani"),l.a.createElement(h.a,{variant:"h4"},r," (",(r/n*100).toFixed(1),"%)"))),o&&l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(G.a,null,l.a.createElement(h.a,{variant:"h6"},"Nazione"),l.a.createElement(h.a,{variant:"h4"},o))),l.a.createElement(w.a,{item:!0,xs:12,md:3},l.a.createElement(k.a,{variant:"outlined",onClick:t,fullWidth:!0},"Statistiche globali"))))};const A=Object(m.a)({palette:{mode:"light",primary:{main:"#722F37"}}});var D=function(){const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)([]),[c,o]=Object(n.useState)(0),[m,b]=Object(n.useState)(10),[p,w]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{i.a.parse("/public/barnivore_new.csv",{download:!0,header:!0,complete:e=>{const t=e.data.filter(e=>e.name&&e.producer&&e.origin&&e.label);a(t),r(t)}})},[]),l.a.createElement(u.a,{theme:A},l.a.createElement(s.a,null),l.a.createElement(g.a,{maxWidth:"lg",sx:{py:4}},l.a.createElement(L,{wines:e,setFilteredWines:r,setPage:o}),l.a.createElement(J,{wines:t,onShowGlobalStats:()=>w(!0)}),l.a.createElement(B,{wines:t,page:c,setPage:o,rowsPerPage:m,setRowsPerPage:b}),l.a.createElement(E.a,{open:p,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0},l.a.createElement(d.a,null,"Statistiche globali vini vegani"),l.a.createElement(v.a,null,(()=>{const a=e.reduce((e,a)=>{const t=!a.label.toLowerCase().includes("not vegan")&&a.label.toLowerCase().includes("vegan friendly");return e[a.origin]||(e[a.origin]={total:0,vegan:0}),e[a.origin].total+=1,t&&(e[a.origin].vegan+=1),e},{});return Object.entries(a).sort((e,a)=>a[1].total-e[1].total).map(e=>{let[a,t]=e;return{country:a,total:t.total,vegan:t.vegan,percentage:(t.vegan/t.total*100).toFixed(1)}})})().map(e=>l.a.createElement(h.a,{key:e.country,sx:{mb:1}},e.country,": ",e.vegan," vini vegani su ",e.total," (",e.percentage,"%)"))))))};var M=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,230)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=a;t(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null))),M()}},[[125,1,2]]]);
//# sourceMappingURL=main.4f50f87f.chunk.js.map